# üìã Dokumentasi Alur Sistem CAT (Computer Adaptive Testing)

*üìñ Panduan lengkap untuk developer baru yang ingin memahami dan mengimplementasikan sistem CAT*

## üöÄ **Quick Start untuk Developer Baru**

### **Prerequisites:**
```bash
# Tools yang dibutuhkan:
- PHP 8.1+ (dengan Composer)
- Python 3.8+ (dengan pip)
- SQLite3
- Git
```

### **Setup Development Environment (5 menit):**
```bash
# 1. Clone repository
git clone https://github.com/RafiSuwargana/CAT_SYSTEM.git
cd CAT_SYSTEM

# 2. Install Laravel dependencies
cd cat_flask
composer install
cp .env.example .env
php artisan key:generate

# 3. Install Python dependencies
cd ..
pip install -r requirements.txt

# 4. Start development servers
# Terminal 1: Flask API
python cat_api.py

# Terminal 2: Laravel
cd cat_flask
php artisan serve

# 5. Test system
# Browser: http://localhost:8000/cat/hybrid
```

### **Struktur Project untuk Developer:**
```
üìÅ CAT_SYSTEM/
‚îú‚îÄ‚îÄ üêç cat_api.py              ‚Üê Python Flask API (main calculation engine)
‚îú‚îÄ‚îÄ üìä Parameter_Item_IST.csv  ‚Üê Item bank data
‚îú‚îÄ‚îÄ üìã requirements.txt        ‚Üê Python dependencies
‚îî‚îÄ‚îÄ üìÅ cat_flask/              ‚Üê Laravel application
    ‚îú‚îÄ‚îÄ üåê routes/web.php       ‚Üê URL routing
    ‚îú‚îÄ‚îÄ üéØ app/Http/Controllers/ ‚Üê Request handlers
    ‚îú‚îÄ‚îÄ üîß app/Services/        ‚Üê Business logic
    ‚îú‚îÄ‚îÄ üóÑÔ∏è app/Models/          ‚Üê Database entities
    ‚îú‚îÄ‚îÄ üé® resources/views/     ‚Üê Frontend templates
    ‚îú‚îÄ‚îÄ üì± public/js/           ‚Üê Frontend JavaScript
    ‚îî‚îÄ‚îÄ üóÉÔ∏è database/            ‚Üê Database & migrations
```

---

## üèóÔ∏è Arsitektur Sistem

Sistem CAT ini menggunakan **arsitektur hybrid** yang menggabungkan Laravel (PHP) dan Flask (Python):

- **Laravel**: Frontend, database management, session handling, UI
- **Flask API**: IRT calculations, theta estimation, item selection (MANDATORY)
- **SQLite**: Database untuk menyimpan sessions, responses, dan item parameters

> **‚ö†Ô∏è PENTING**: Flask API adalah komponen WAJIB. Sistem tidak akan berfungsi tanpa Flask API yang aktif.

---

## ÔøΩ **Execution Commands & Startup**

### 1. üêç **Flask API Layer** (Python)

#### **File Utama:**
- **`cat_api.py`** - Server Flask API utama

**Fungsi:**
- IRT 3PL calculations (probability, information, likelihood)
- Theta estimation menggunakan MAP (real-time) dan EAP (final scoring)
- Item selection menggunakan Maximum Fisher Information (MI)
- Stopping criteria evaluation
- Performance monitoring dan logging

**Endpoints:**
```
GET  /health                    - Health check
POST /api/estimate-theta        - Estimasi theta MAP (real-time)
POST /api/select-item          - Pemilihan item berikutnya (MI)
POST /api/final-score          - Skor final dengan EAP
POST /api/stopping-criteria    - Cek kriteria berhenti
POST /api/calculate-score      - Konversi theta ke skor IQ
GET  /api/item-bank           - Info item bank
POST /api/test-calculation     - Endpoint testing
```

#### **Dependencies:**
- **`requirements.txt`** - Python package dependencies
- **`Parameter_Item_IST.csv`** - Item bank parameters (a, b, g, u)

---

### 2. üéØ **Laravel Application Layer** (PHP)

#### **A. Routes & Entry Points**

**`cat_flask/routes/web.php`**
```
/ ‚Üí HomeController@index
/cat/hybrid ‚Üí View cat.hybrid (Main UI)
/api/* ‚Üí HybridCATController (API endpoints)
```

#### **B. Controllers**

**`cat_flask/app/Http/Controllers/HybridCATController.php`**
- **Fungsi:** Main controller untuk CAT system
- **Dependencies:** HybridCATService, FlaskApiService, PerformanceMonitorService
- **Methods:**
  - `startTest()` - Mulai sesi baru
  - `submitResponse()` - Submit jawaban dan dapatkan item berikutnya
  - `getSessionHistory()` - Riwayat sesi
  - `getFlaskApiHealth()` - Status Flask API
  - `switchApiSource()` - Toggle Flask/Laravel calculation

**`cat_flask/app/Http/Controllers/HomeController.php`**
- **Fungsi:** Homepage controller
- **Methods:** `index()` - Tampilan utama

**`cat_flask/app/Http/Controllers/TestController.php`**
- **Fungsi:** Testing endpoints
- **Methods:** `simpleTest()`, `testDatabase()`

#### **C. Services (Business Logic)**

**`cat_flask/app/Services/HybridCATService.php`**
- **Fungsi:** Core service - orchestrates CAT process
- **Dependencies:** FlaskApiService, PerformanceMonitorService
- **Flow:**
  1. Check Flask API availability (MANDATORY)
  2. Use Flask for all calculations
  3. Manage database operations
  4. Handle session lifecycle

**`cat_flask/app/Services/FlaskApiService.php`**
- **Fungsi:** HTTP client untuk komunikasi dengan Flask API
- **Methods:**
  - `estimateTheta()` - Request theta estimation
  - `selectNextItem()` - Request item selection
  - `calculateScore()` - Request score calculation
  - `checkStoppingCriteria()` - Request stopping check
  - `testConnection()` - Health check

**`cat_flask/app/Services/PerformanceMonitorService.php`**
- **Fungsi:** Performance monitoring dan logging
- **Features:** Memory usage, CPU load, process timing

#### **D. Models (Database)**

**`cat_flask/app/Models/TestSession.php`**
- **Fungsi:** Model untuk session management
- **Fields:** session_id, theta, standard_error, test_completed, stop_reason, final_score
- **Relations:** hasMany(TestResponse, UsedItem)

**`cat_flask/app/Models/TestResponse.php`**
- **Fungsi:** Model untuk menyimpan responses peserta
- **Fields:** session_id, item_id, item_order, answer, response_time, theta_after_response
- **Relations:** belongsTo(TestSession, ItemParameter)

**`cat_flask/app/Models/ItemParameter.php`**
- **Fungsi:** Model untuk item bank
- **Fields:** id, a_parameter, b_parameter, g_parameter, u_parameter
- **Relations:** hasMany(TestResponse, UsedItem)

**`cat_flask/app/Models/UsedItem.php`**
- **Fungsi:** Model untuk tracking item yang sudah digunakan
- **Fields:** session_id, item_id, used_at
- **Relations:** belongsTo(TestSession, ItemParameter)

---

### 3. üîß **Configuration & Bootstrap**

**`cat_flask/bootstrap/app.php`**
- **Fungsi:** Laravel application bootstrap
- **Configure:** Routing, middleware, exceptions

**`cat_flask/config/cat.php`**
- **Fungsi:** CAT system configuration
- **Settings:** Flask API URL, timeouts, test parameters

**`cat_flask/app/Providers/AppServiceProvider.php`**
- **Fungsi:** Service container registration
- **Registers:** FlaskApiService, HybridCATService, PerformanceMonitorService

---

### 4. üèÉ‚Äç‚ôÇÔ∏è **Console Commands** (Development Tools)

**`cat_flask/app/Console/Commands/StartFlaskApiCommand.php`**
- **Fungsi:** Start Flask API dari Laravel command
- **Usage:** `php artisan cat:start-flask-api`

**`cat_flask/app/Console/Commands/TestFlaskApiCommand.php`**
- **Fungsi:** Test Flask API endpoints
- **Usage:** `php artisan cat:test-flask-api`

**`cat_flask/app/Console/Commands/TestPerformanceMonitor.php`**
- **Fungsi:** Test performance monitoring
- **Usage:** `php artisan cat:test-performance-monitor`

---

## ÔøΩÔ∏è **Database Schema untuk Developer**

### **üìã Table Structures:**

#### **üîπ test_sessions** (Session Management)
```sql
CREATE TABLE test_sessions (
    session_id VARCHAR(255) PRIMARY KEY,    -- 'CAT_timestamp_random'
    theta DECIMAL(8,6) DEFAULT 0.0,         -- Current ability estimate
    standard_error DECIMAL(8,6) DEFAULT 1.0, -- Current SE
    test_completed BOOLEAN DEFAULT 0,       -- Test completion status
    stop_reason TEXT NULL,                  -- Why test stopped
    final_score DECIMAL(5,2) NULL,         -- Final IQ score
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

#### **üîπ test_responses** (Individual Answers)
```sql
CREATE TABLE test_responses (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    session_id VARCHAR(255),                -- FK to test_sessions
    item_id VARCHAR(50),                   -- FK to item_parameters
    item_order INTEGER,                    -- Question sequence (1,2,3...)
    answer INTEGER,                        -- 0=wrong, 1=correct
    response_time INTEGER NULL,            -- Time in milliseconds
    theta_after_response DECIMAL(8,6),     -- Theta after this response
    created_at TIMESTAMP,
    
    FOREIGN KEY (session_id) REFERENCES test_sessions(session_id),
    FOREIGN KEY (item_id) REFERENCES item_parameters(id)
);
```

#### **üîπ item_parameters** (Question Bank)
```sql
CREATE TABLE item_parameters (
    id VARCHAR(50) PRIMARY KEY,            -- Item identifier
    a_parameter DECIMAL(8,6),              -- Discrimination
    b_parameter DECIMAL(8,6),              -- Difficulty
    g_parameter DECIMAL(8,6),              -- Guessing
    u_parameter DECIMAL(8,6) DEFAULT 1.0,  -- Upper asymptote
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

#### **üîπ used_items** (Usage Tracking)
```sql
CREATE TABLE used_items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    session_id VARCHAR(255),               -- FK to test_sessions
    item_id VARCHAR(50),                  -- FK to item_parameters
    used_at TIMESTAMP,
    
    FOREIGN KEY (session_id) REFERENCES test_sessions(session_id),
    FOREIGN KEY (item_id) REFERENCES item_parameters(id),
    UNIQUE(session_id, item_id)           -- Prevent duplicate usage
);
```

### **üìä Data Flow Example:**
```
1. User starts test ‚Üí test_sessions record created
2. User answers Q1  ‚Üí test_responses record + used_items record
3. User answers Q2  ‚Üí test_responses record + used_items record
4. Test completes   ‚Üí test_sessions.test_completed = true
```

---

## üåê **API Endpoints & Examples untuk Developer**

### **üîπ Laravel API Endpoints (Frontend ‚Üî Laravel)**

#### **Start Test Session**
```javascript
// Request
POST /api/start-test
Headers: {
    'Content-Type': 'application/json',
    'X-CSRF-TOKEN': 'csrf_token_here'
}
Body: {}

// Response
{
    "session_id": "CAT_1643723456_7890",
    "item": {
        "id": "item_001",
        "a": 1.5,
        "b": -0.8,
        "g": 0.2,
        "u": 1.0
    },
    "theta": 0.0,
    "se": 1.0,
    "probability": 0.65,
    "information": 0.34,
    "item_number": 1,
    "api_source": "flask"
}
```

#### **Submit Response**
```javascript
// Request
POST /api/submit-response
Body: {
    "session_id": "CAT_1643723456_7890",
    "item_id": "item_001", 
    "answer": 1  // 1=correct, 0=incorrect
}

// Response (Continue)
{
    "test_completed": false,
    "item": {
        "id": "item_045",
        "a": 2.1,
        "b": 0.3,
        "g": 0.15
    },
    "theta": 0.75,
    "se": 0.65,
    "probability": 0.72,
    "information": 1.23,
    "item_number": 2,
    "api_source": "flask"
}

// Response (Test Complete)
{
    "test_completed": true,
    "final_theta": 1.85,
    "se_eap": 0.22,
    "final_score": 127.75,
    "total_items": 15,
    "stop_reason": "SE_EAP mencapai 0.25",
    "api_source": "flask"
}
```

### **üîπ Flask API Endpoints (Laravel ‚Üî Flask)**

#### **Estimate Theta**
```python
# Request
POST localhost:5000/api/estimate-theta
{
    "responses": [
        {"a": 1.5, "b": -0.8, "g": 0.2, "answer": 1},
        {"a": 2.1, "b": 0.3, "g": 0.15, "answer": 0}
    ],
    "theta_old": 0.0
}

# Response
{
    "theta": 0.42,
    "se": 0.78,
    "method": "MAP",
    "n_responses": 2,
    "theta_old": 0.0
}
```

#### **Select Next Item**
```python
# Request
POST localhost:5000/api/select-item
{
    "theta": 0.42,
    "used_item_ids": ["item_001", "item_045"],
    "responses": [...]
}

# Response
{
    "item": {
        "id": "item_123",
        "a": 1.8,
        "b": 0.5,
        "g": 0.18,
        "u": 1.0
    },
    "probability": 0.68,
    "information": 1.45,
    "fisher_information": 1.45,
    "method": "MI",
    "available_items": 148
}
```

---

## üíª **Code Implementation Examples**

### **üîπ Frontend JavaScript Patterns**

#### **Making API Calls**
```javascript
// Standard pattern untuk API calls
async function makeApiCall(endpoint, data = {}) {
    try {
        const response = await fetch(endpoint, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content')
            },
            body: JSON.stringify(data)
        });
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        if (result.error) {
            throw new Error(result.error);
        }
        
        return result;
    } catch (error) {
        console.error('API call failed:', error);
        updateStatus('Error: ' + error.message, 'danger');
        throw error;
    }
}

// Usage example
async function startTest() {
    const data = await makeApiCall('/api/start-test');
    displayItem(data.item);
    updateTheta(data.theta);
}
```

#### **State Management**
```javascript
// Global state object
const appState = {
    currentSession: null,
    testData: {
        responses: [],
        thetaHistory: [0],
        seHistory: [1.0],
        itemCount: 0,
        apiSource: 'unknown'
    },
    
    // State update methods
    updateTheta(newTheta) {
        this.testData.thetaHistory.push(newTheta);
        this.updateChart();
    },
    
    addResponse(response) {
        this.testData.responses.push(response);
        this.displayResponseHistory();
    },
    
    reset() {
        this.currentSession = null;
        this.testData = {
            responses: [],
            thetaHistory: [0],
            seHistory: [1.0],
            itemCount: 0,
            apiSource: 'unknown'
        };
    }
};
```

### **üîπ Laravel Controller Patterns**

#### **Standard Controller Method**
```php
// app/Http/Controllers/HybridCATController.php
public function startTest(): JsonResponse
{
    try {
        // Input validation (if needed)
        // $request->validate([...]);
        
        // Call service layer
        $result = $this->hybridCatService->startSession();
        
        // Return JSON response
        return response()->json($result);
        
    } catch (Exception $e) {
        // Error handling
        Log::error('Error starting test: ' . $e->getMessage());
        return response()->json(['error' => $e->getMessage()], 500);
    }
}
```

#### **Service Layer Pattern**
```php
// app/Services/HybridCATService.php
public function startSession(): array
{
    DB::beginTransaction();
    
    try {
        // 1. Generate session ID
        $sessionId = 'CAT_' . time() . '_' . rand(1000, 9999);
        
        // 2. Create database record
        $session = TestSession::create([
            'session_id' => $sessionId,
            'theta' => 0.0,
            'standard_error' => 1.0,
            'test_completed' => false
        ]);
        
        // 3. Select first item
        $itemData = $this->selectFirstItem();
        
        // 4. Commit transaction
        DB::commit();
        
        // 5. Return result
        return [
            'session_id' => $sessionId,
            'item' => $itemData['item'],
            'theta' => 0.0,
            'se' => 1.0,
            'probability' => $itemData['probability'],
            'information' => $itemData['information'],
            'item_number' => 1,
            'api_source' => $this->useFlaskApi ? 'flask' : 'laravel'
        ];
        
    } catch (Exception $e) {
        DB::rollback();
        throw $e;
    }
}
```

### **üîπ Database Model Patterns**

#### **Model dengan Relationships**
```php
// app/Models/TestSession.php
class TestSession extends Model
{
    protected $primaryKey = 'session_id';
    public $incrementing = false;
    protected $keyType = 'string';
    
    protected $fillable = [
        'session_id', 'theta', 'standard_error', 
        'test_completed', 'stop_reason', 'final_score'
    ];
    
    protected $casts = [
        'theta' => 'decimal:6',
        'standard_error' => 'decimal:6',
        'test_completed' => 'boolean',
        'final_score' => 'decimal:2',
    ];
    
    // Relationships
    public function responses(): HasMany
    {
        return $this->hasMany(TestResponse::class, 'session_id', 'session_id')
                    ->orderBy('item_order');
    }
    
    public function usedItems(): HasMany
    {
        return $this->hasMany(UsedItem::class, 'session_id', 'session_id');
    }
    
    // Helper methods
    public function getLatestTheta(): float
    {
        $latestResponse = $this->responses()->latest()->first();
        return $latestResponse ? $latestResponse->theta_after_response : $this->theta;
    }
    
    public function getTotalResponses(): int
    {
        return $this->responses()->count();
    }
}
```

---

### 6. üé® **Frontend Layer (User Interface)**

#### **A. Views & Templates (Blade PHP)**

**üîπ `cat_flask/resources/views/cat/hybrid.blade.php`**
- **Fungsi:** Main CAT test interface (Single Page Application)
- **Komponen UI:**
  - Header dengan branding dan API status
  - Control panel (Start Test, Submit Response buttons)
  - Item display area (menampilkan soal)
  - Real-time statistics (theta, SE, probability, information)
  - Response history dan progress tracking
  - Chart visualization (theta progression)
  - Final results display
- **Dependencies:** Bootstrap 5, Font Awesome, Chart.js
- **Features:**
  - Responsive design
  - Real-time updates
  - API health monitoring
  - Performance metrics display

#### **B. JavaScript Client (Frontend Logic)**

**üîπ `cat_flask/public/js/cat-hybrid.js`**
- **Fungsi:** Frontend application logic dan API communication
- **Key Functions:**
  ```javascript
  startTest()           - Initialize new test session
  submitResponse(answer) - Submit user answer
  checkFlaskApiHealth() - Monitor Flask API status
  updateChart()         - Update theta progression chart
  displayItem()         - Show current question
  handleTestCompletion() - Process final results
  ```
- **API Integration:**
  - CSRF token handling untuk security
  - Error handling dan fallback
  - Real-time status updates
  - Performance monitoring
- **Data Management:**
  ```javascript
  testData = {
    responses: [],        // User responses history
    thetaHistory: [],     // Theta progression
    seHistory: [],        // SE progression
    itemCount: 0,         // Current item number
    apiSource: 'flask'    // Current API source
  }
  ```

#### **C. Static Assets**

**`cat_flask/public/css/`**
- **Fungsi:** Custom CSS styles
- **Features:** Theme, animations, responsive design

**`cat_flask/public/js/`**
- **Fungsi:** JavaScript files
- **Files:** cat-hybrid.js (main frontend logic)

**`cat_flask/public/favicon.ico`**
- **Fungsi:** Website icon

---

### 7. üåê **Frontend-to-Backend Communication Flow**

#### **A. AJAX Request Structure**
```javascript
// Example: Starting test
fetch('/api/start-test', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content')
    }
})
.then(response => response.json())
.then(data => {
    // Handle response
    displayItem(data.item);
    updateTheta(data.theta);
})
.catch(error => {
    // Error handling
    updateStatus('Error: ' + error.message, 'danger');
});
```

#### **B. Real-time UI Updates**
- **Theta Display:** Updated setelah setiap response
- **Progress Bar:** Shows item progression (1/30, 2/30, etc.)
- **API Status:** Live monitoring Flask API health
- **Chart Updates:** Real-time theta dan SE visualization
- **Response History:** Scrollable list of all responses

#### **C. State Management**
```javascript
// Global state tracking
currentSession = {
    sessionId: 'CAT_1234567890_1234',
    currentItem: {...},
    theta: 0.0,
    se: 1.0,
    itemNumber: 1,
    apiSource: 'flask'
}
```

---

## üîÑ Alur Proses CAT System (Frontend ke Backend)

### **1. System Startup & Initial Load**
```
üåê User Browser
‚îú‚îÄ‚îÄ GET / ‚Üí routes/web.php ‚Üí HomeController@index
‚îú‚îÄ‚îÄ GET /cat/hybrid ‚Üí View: cat/hybrid.blade.php
‚îú‚îÄ‚îÄ Load: cat-hybrid.js, Bootstrap, Chart.js
‚îú‚îÄ‚îÄ Execute: initializeApp()
‚îú‚îÄ‚îÄ GET /api/flask-health ‚Üí HybridCATController@getFlaskApiHealth
‚îî‚îÄ‚îÄ Display: Ready state dengan API status
```

### **2. User Interaction: Start Test**
```
üñ±Ô∏è User clicks "Mulai Tes"
‚îú‚îÄ‚îÄ Frontend: startTest() function
‚îú‚îÄ‚îÄ AJAX POST /api/start-test
‚îÇ   ‚îú‚îÄ‚îÄ Headers: CSRF token, Content-Type
‚îÇ   ‚îî‚îÄ‚îÄ Body: {} (empty)
‚îú‚îÄ‚îÄ Laravel: routes/web.php ‚Üí HybridCATController@startTest
‚îú‚îÄ‚îÄ Service: HybridCATService@startSession
‚îÇ   ‚îú‚îÄ‚îÄ Generate session_id: 'CAT_timestamp_random'
‚îÇ   ‚îú‚îÄ‚îÄ Create TestSession record in database
‚îÇ   ‚îú‚îÄ‚îÄ Check Flask API health
‚îÇ   ‚îî‚îÄ‚îÄ Select first item (via Flask or fallback)
‚îú‚îÄ‚îÄ Flask API: POST localhost:5000/api/select-item
‚îÇ   ‚îú‚îÄ‚îÄ Execute: select_next_item_mi()
‚îÇ   ‚îú‚îÄ‚îÄ Calculate: Fisher Information
‚îÇ   ‚îî‚îÄ‚îÄ Return: Best item for Œ∏=0
‚îú‚îÄ‚îÄ Database: Save session to test_sessions table
‚îú‚îÄ‚îÄ Response: JSON with session_id, item, theta, se
‚îî‚îÄ‚îÄ Frontend: 
    ‚îú‚îÄ‚îÄ Store currentSession object
    ‚îú‚îÄ‚îÄ Display item in UI
    ‚îú‚îÄ‚îÄ Enable response buttons
    ‚îú‚îÄ‚îÄ Show progress bar (1/30)
    ‚îî‚îÄ‚îÄ Update API source indicator
```

### **3. User Interaction: Submit Answer**
```
üñ±Ô∏è User clicks "Benar" or "Salah" 
‚îú‚îÄ‚îÄ Frontend: submitResponse(1 or 0)
‚îú‚îÄ‚îÄ AJAX POST /api/submit-response
‚îÇ   ‚îú‚îÄ‚îÄ Body: {session_id, item_id, answer}
‚îÇ   ‚îî‚îÄ‚îÄ Headers: CSRF token
‚îú‚îÄ‚îÄ Laravel: HybridCATController@submitResponse
‚îú‚îÄ‚îÄ Service: HybridCATService@submitResponse
‚îÇ   ‚îú‚îÄ‚îÄ Validate session exists
‚îÇ   ‚îú‚îÄ‚îÄ Save response to database
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Table: test_responses
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Fields: session_id, item_id, answer, theta_after
‚îÇ   ‚îú‚îÄ‚îÄ Mark item as used
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Table: used_items  
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Fields: session_id, item_id, used_at
‚îÇ   ‚îú‚îÄ‚îÄ Request theta estimation from Flask
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POST localhost:5000/api/estimate-theta
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Body: {responses[], theta_old}
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Execute: estimate_theta_map()
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Return: new theta, SE
‚îÇ   ‚îú‚îÄ‚îÄ Check stopping criteria
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POST localhost:5000/api/stopping-criteria
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Execute: check_stopping_criteria()
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Return: should_stop, reason
‚îÇ   ‚îî‚îÄ‚îÄ If continue: Select next item
‚îÇ       ‚îú‚îÄ‚îÄ POST localhost:5000/api/select-item
‚îÇ       ‚îú‚îÄ‚îÄ Execute: select_next_item_mi()
‚îÇ       ‚îî‚îÄ‚îÄ Return: next item
‚îú‚îÄ‚îÄ Database Updates:
‚îÇ   ‚îú‚îÄ‚îÄ test_responses: New response record
‚îÇ   ‚îú‚îÄ‚îÄ used_items: Mark item as used
‚îÇ   ‚îî‚îÄ‚îÄ test_sessions: Update theta, SE
‚îú‚îÄ‚îÄ Response: JSON with new item or completion
‚îî‚îÄ‚îÄ Frontend:
    ‚îú‚îÄ‚îÄ Add response to history display
    ‚îú‚îÄ‚îÄ Update theta progression chart
    ‚îú‚îÄ‚îÄ Display new item OR final results
    ‚îú‚îÄ‚îÄ Update progress bar
    ‚îî‚îÄ‚îÄ Show real-time statistics
```

### **4. Flask API Calculation Flow (Detail)**
```
üîÑ Laravel Request ‚Üí Flask API
‚îú‚îÄ‚îÄ HTTP POST localhost:5000/api/estimate-theta
‚îú‚îÄ‚îÄ cat_api.py receives request
‚îú‚îÄ‚îÄ Validate request data format
‚îú‚îÄ‚îÄ Execute calculation:
‚îÇ   ‚îú‚îÄ‚îÄ log_estimate_theta_map() - Performance logging
‚îÇ   ‚îú‚îÄ‚îÄ estimate_theta_map(responses, theta_old)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bayesian inference dengan MAP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Quadrature integration (-6 to +6)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Apply change constraints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Calculate SE from Fisher Information
‚îÇ   ‚îú‚îÄ‚îÄ log_process_performance() - Memory & CPU
‚îÇ   ‚îî‚îÄ‚îÄ Return theta, SE, method='MAP'
‚îú‚îÄ‚îÄ Performance log to cat_api.log
‚îî‚îÄ‚îÄ JSON response to Laravel
```

### **5. Frontend Real-time Updates**
```
üìä JavaScript Updates (setiap response)
‚îú‚îÄ‚îÄ updateChart() - Add point to theta progression
‚îú‚îÄ‚îÄ displayResponseResult() - Show response history
‚îÇ   ‚îú‚îÄ‚îÄ Item number & parameters
‚îÇ   ‚îú‚îÄ‚îÄ User answer (‚úì or ‚úó)
‚îÇ   ‚îú‚îÄ‚îÄ Theta before ‚Üí after
‚îÇ   ‚îî‚îÄ‚îÄ SE before ‚Üí after
‚îú‚îÄ‚îÄ updateProgress() - Progress bar (X/30)
‚îú‚îÄ‚îÄ updateStatus() - Status message & API source
‚îî‚îÄ‚îÄ API Health Check (every 30 seconds)
    ‚îú‚îÄ‚îÄ GET /api/flask-health
    ‚îú‚îÄ‚îÄ Update status indicator
    ‚îî‚îÄ‚îÄ Show Flask online/offline/fallback
```

### **6. Test Completion Flow**
```
üèÅ Test Ends (any stopping criteria met)
‚îú‚îÄ‚îÄ Flask API: check_stopping_criteria() returns true
‚îú‚îÄ‚îÄ HybridCATService: test_completed = true
‚îú‚îÄ‚îÄ Final Score Calculation:
‚îÇ   ‚îú‚îÄ‚îÄ POST localhost:5000/api/final-score
‚îÇ   ‚îú‚îÄ‚îÄ Execute: estimate_theta_eap() - Final theta
‚îÇ   ‚îú‚îÄ‚îÄ Execute: calculate_score() - IQ score
‚îÇ   ‚îî‚îÄ‚îÄ Return: final_theta, SE_EAP, final_score
‚îú‚îÄ‚îÄ Database: Update test_sessions
‚îÇ   ‚îú‚îÄ‚îÄ test_completed = true
‚îÇ   ‚îú‚îÄ‚îÄ stop_reason = "reason"
‚îÇ   ‚îî‚îÄ‚îÄ final_score = calculated_score
‚îú‚îÄ‚îÄ Frontend: handleTestCompletion()
‚îÇ   ‚îú‚îÄ‚îÄ Display final results card
‚îÇ   ‚îú‚îÄ‚îÄ Show complete session history  
‚îÇ   ‚îú‚îÄ‚îÄ Display final chart
‚îÇ   ‚îú‚îÄ‚îÄ Disable all buttons
‚îÇ   ‚îî‚îÄ‚îÄ Enable "Start New Test"
‚îî‚îÄ‚îÄ Performance: log_final_scoring()
```

### **7. Database Operations Flow**
```
üóÑÔ∏è Database Layer (SQLite)
‚îú‚îÄ‚îÄ test_sessions table
‚îÇ   ‚îú‚îÄ‚îÄ Primary Key: session_id
‚îÇ   ‚îú‚îÄ‚îÄ Fields: theta, standard_error, test_completed
‚îÇ   ‚îî‚îÄ‚îÄ Relations: hasMany(responses, usedItems)
‚îú‚îÄ‚îÄ test_responses table  
‚îÇ   ‚îú‚îÄ‚îÄ Fields: session_id, item_id, answer, theta_after
‚îÇ   ‚îî‚îÄ‚îÄ Relations: belongsTo(session, itemParameter)
‚îú‚îÄ‚îÄ item_parameters table
‚îÇ   ‚îú‚îÄ‚îÄ Fields: id, a_parameter, b_parameter, g_parameter
‚îÇ   ‚îî‚îÄ‚îÄ Relations: hasMany(responses, usedItems)
‚îî‚îÄ‚îÄ used_items table
    ‚îú‚îÄ‚îÄ Fields: session_id, item_id, used_at
    ‚îî‚îÄ‚îÄ Relations: belongsTo(session, itemParameter)
```

### **8. Fallback Mechanism Flow**
```
‚ö†Ô∏è Flask API Unavailable
‚îú‚îÄ‚îÄ HybridCATService detects Flask API down
‚îú‚îÄ‚îÄ Log warning: "Flask API tidak tersedia"
‚îú‚îÄ‚îÄ Switch to: CATService (PHP implementation)
‚îú‚îÄ‚îÄ Continue test dengan Laravel calculations
‚îú‚îÄ‚îÄ Frontend shows: "API: LARAVEL (Fallback)"
‚îî‚îÄ‚îÄ All functionality tetap berjalan normal
```

---

## üéØ **File Hierarchy dengan Highlight Penggunaan**

### **üì± Frontend Files (User Interface)**
```
üîπ UTAMA - cat_flask/resources/views/cat/hybrid.blade.php
   ‚îú‚îÄ‚îÄ Main UI template (HTML + Blade PHP)
   ‚îú‚îÄ‚îÄ Integrate: Bootstrap 5, Font Awesome, Chart.js
   ‚îú‚îÄ‚îÄ Contains: Test interface, buttons, charts, status displays
   ‚îî‚îÄ‚îÄ Calls: cat-hybrid.js functions

üîπ UTAMA - cat_flask/public/js/cat-hybrid.js  
   ‚îú‚îÄ‚îÄ Frontend application logic (713 lines)
   ‚îú‚îÄ‚îÄ Functions: startTest(), submitResponse(), updateChart()
   ‚îú‚îÄ‚îÄ API Communication: AJAX calls to Laravel endpoints
   ‚îú‚îÄ‚îÄ State Management: currentSession, testData objects
   ‚îî‚îÄ‚îÄ Real-time: Health monitoring, progress updates

üîπ SUPPORTING - cat_flask/public/css/
   ‚îî‚îÄ‚îÄ Custom styling and theme files

üîπ SUPPORTING - cat_flask/public/favicon.ico
   ‚îî‚îÄ‚îÄ Website icon
```

### **üåê Laravel Backend Files (PHP Layer)**
```
üîπ ROUTING - cat_flask/routes/web.php
   ‚îú‚îÄ‚îÄ URL mapping to controllers
   ‚îú‚îÄ‚îÄ Routes: /, /cat/hybrid, /api/*
   ‚îî‚îÄ‚îÄ CSRF protection setup

üîπ MAIN CONTROLLER - cat_flask/app/Http/Controllers/HybridCATController.php
   ‚îú‚îÄ‚îÄ Primary CAT controller (handles all test operations)
   ‚îú‚îÄ‚îÄ Methods: startTest(), submitResponse(), getSessionHistory()
   ‚îú‚îÄ‚îÄ Dependencies: HybridCATService, FlaskApiService
   ‚îî‚îÄ‚îÄ JSON API responses to frontend

üîπ CORE SERVICE - cat_flask/app/Services/HybridCATService.php
   ‚îú‚îÄ‚îÄ Business logic orchestration
   ‚îú‚îÄ‚îÄ Database operations coordination
   ‚îú‚îÄ‚îÄ Flask API communication management
   ‚îî‚îÄ‚îÄ Fallback mechanism handling

üîπ API CLIENT - cat_flask/app/Services/FlaskApiService.php
   ‚îú‚îÄ‚îÄ HTTP client for Flask API communication
   ‚îú‚îÄ‚îÄ Methods: estimateTheta(), selectNextItem(), calculateScore()
   ‚îú‚îÄ‚îÄ Error handling and validation
   ‚îî‚îÄ‚îÄ Request/response formatting

üîπ FALLBACK SERVICE - cat_flask/app/Services/CATService.php
   ‚îú‚îÄ‚îÄ PHP implementation of IRT calculations
   ‚îú‚îÄ‚îÄ Used when Flask API unavailable
   ‚îî‚îÄ‚îÄ Backup calculation engine

üîπ MONITORING - cat_flask/app/Services/PerformanceMonitorService.php
   ‚îú‚îÄ‚îÄ Performance tracking and logging
   ‚îú‚îÄ‚îÄ Memory and CPU monitoring
   ‚îî‚îÄ‚îÄ Process timing measurement
```

### **üóÑÔ∏è Database Files (Data Layer)**
```
üîπ DATABASE - cat_flask/database/database.sqlite
   ‚îú‚îÄ‚îÄ Main database file
   ‚îî‚îÄ‚îÄ Tables: test_sessions, test_responses, item_parameters, used_items

üîπ MODELS - cat_flask/app/Models/
   ‚îú‚îÄ‚îÄ TestSession.php - Session management
   ‚îú‚îÄ‚îÄ TestResponse.php - Individual responses  
   ‚îú‚îÄ‚îÄ ItemParameter.php - Item bank
   ‚îú‚îÄ‚îÄ UsedItem.php - Used item tracking
   ‚îî‚îÄ‚îÄ User.php - Laravel default

üîπ MIGRATIONS - cat_flask/database/migrations/
   ‚îî‚îÄ‚îÄ Database schema definitions
```

### **üêç Flask API Files (Python Calculation Engine)**
```
üîπ MAIN API - cat_api.py
   ‚îú‚îÄ‚îÄ Flask server (1000+ lines)
   ‚îú‚îÄ‚îÄ IRT 3PL calculations
   ‚îú‚îÄ‚îÄ Endpoints: /health, /api/estimate-theta, /api/select-item
   ‚îú‚îÄ‚îÄ Functions: estimate_theta_map(), select_next_item_mi()
   ‚îú‚îÄ‚îÄ Performance logging to cat_api.log
   ‚îî‚îÄ‚îÄ Item bank loading from CSV

üîπ ITEM BANK - Parameter_Item_IST.csv
   ‚îú‚îÄ‚îÄ Item parameters (a, b, g, u)
   ‚îú‚îÄ‚îÄ Loaded at Flask startup
   ‚îî‚îÄ‚îÄ Used for all IRT calculations

üîπ DEPENDENCIES - requirements.txt
   ‚îú‚îÄ‚îÄ Python package requirements
   ‚îú‚îÄ‚îÄ Flask, numpy, pandas, scipy, psutil
   ‚îî‚îÄ‚îÄ Used for pip install

üîπ LOGS - cat_api.log
   ‚îú‚îÄ‚îÄ Performance monitoring output
   ‚îú‚îÄ‚îÄ Process timing and resource usage
   ‚îî‚îÄ‚îÄ API request logging
```

### **‚öôÔ∏è Configuration Files**
```
üîπ LARAVEL CONFIG - cat_flask/config/
   ‚îú‚îÄ‚îÄ app.php - Main Laravel config
   ‚îú‚îÄ‚îÄ cat.php - CAT-specific settings
   ‚îú‚îÄ‚îÄ database.php - Database configuration
   ‚îî‚îÄ‚îÄ Other Laravel configs

üîπ BOOTSTRAP - cat_flask/bootstrap/app.php
   ‚îú‚îÄ‚îÄ Laravel application initialization
   ‚îî‚îÄ‚îÄ Service provider registration

üîπ SERVICE PROVIDER - cat_flask/app/Providers/AppServiceProvider.php
   ‚îú‚îÄ‚îÄ Dependency injection container
   ‚îú‚îÄ‚îÄ Register: FlaskApiService, HybridCATService
   ‚îî‚îÄ‚îÄ Service binding and resolution

üîπ ENVIRONMENT - cat_flask/.env
   ‚îú‚îÄ‚îÄ Environment variables
   ‚îú‚îÄ‚îÄ Database paths, API URLs
   ‚îî‚îÄ‚îÄ Application secrets
```

### **üõ†Ô∏è Development Tools**
```
üîπ CONSOLE COMMANDS - cat_flask/app/Console/Commands/
   ‚îú‚îÄ‚îÄ StartFlaskApiCommand.php - Start Flask from Laravel
   ‚îú‚îÄ‚îÄ TestFlaskApiCommand.php - Test API endpoints
   ‚îî‚îÄ‚îÄ TestPerformanceMonitor.php - Performance testing

üîπ BATCH FILES - Development scripts
   ‚îú‚îÄ‚îÄ debug_flask.bat - Debug Flask API
   ‚îú‚îÄ‚îÄ restart_flask_api.bat - Restart Flask
   ‚îú‚îÄ‚îÄ start_hybrid_system.bat - Start complete system
   ‚îî‚îÄ‚îÄ simple_restart.bat - Quick restart

üîπ DEPENDENCIES - Package management
   ‚îú‚îÄ‚îÄ composer.json - PHP dependencies (Laravel)
   ‚îú‚îÄ‚îÄ composer.lock - Locked PHP versions
   ‚îî‚îÄ‚îÄ requirements.txt - Python dependencies
```

## üîç **Dependencies & File Relationships**

### **üîÑ Service Dependencies:**
```
HybridCATController
‚îú‚îÄ‚îÄ ‚Üí HybridCATService (core business logic)
‚îú‚îÄ‚îÄ ‚Üí FlaskApiService (API communication)  
‚îî‚îÄ‚îÄ ‚Üí PerformanceMonitorService (monitoring)

HybridCATService  
‚îú‚îÄ‚îÄ ‚Üí FlaskApiService (preferred calculations)
‚îú‚îÄ‚îÄ ‚Üí CATService (fallback calculations)
‚îú‚îÄ‚îÄ ‚Üí PerformanceMonitorService (logging)
‚îî‚îÄ‚îÄ ‚Üí Models (database operations)

FlaskApiService
‚îú‚îÄ‚îÄ ‚Üí Flask API HTTP endpoints (cat_api.py)
‚îú‚îÄ‚îÄ ‚Üí Error handling & validation
‚îî‚îÄ‚îÄ ‚Üí Request/response formatting

Frontend (cat-hybrid.js)
‚îú‚îÄ‚îÄ ‚Üí Laravel API endpoints (/api/*)
‚îú‚îÄ‚îÄ ‚Üí CSRF token handling
‚îú‚îÄ‚îÄ ‚Üí Real-time UI updates
‚îî‚îÄ‚îÄ ‚Üí Chart.js visualization
```

### **ÔøΩÔ∏è Database Model Relationships:**
```
TestSession (1) ‚Üê‚Üí (Many) TestResponse
TestSession (1) ‚Üê‚Üí (Many) UsedItem  
ItemParameter (1) ‚Üê‚Üí (Many) TestResponse
ItemParameter (1) ‚Üê‚Üí (Many) UsedItem

Flow:
1. TestSession created ‚Üí Generate session_id
2. TestResponse created ‚Üí Links to session & item
3. UsedItem created ‚Üí Tracks item usage
4. ItemParameter referenced ‚Üí Provides a,b,g,u values
```

### **üåê API Communication Chain:**
```
üñ•Ô∏è User Browser (cat-hybrid.js)
    ‚Üì AJAX POST /api/start-test
ÔøΩüöÄ Laravel Route (web.php)
    ‚Üì Route to controller
üéØ HybridCATController@startTest  
    ‚Üì Call service method
üîß HybridCATService@startSession
    ‚Üì HTTP request
üåç FlaskApiService@selectNextItem
    ‚Üì POST localhost:5000/api/select-item
üêç Flask API (cat_api.py)
    ‚Üì IRT calculation
üìä select_next_item_mi() function
    ‚Üì JSON response
üîô Response chain back to browser
    ‚Üì Update UI
üé® Frontend displays item & statistics
```

### **üìÅ File Loading & Initialization Order:**
```
1. üêç Flask API Startup (cat_api.py)
   ‚îú‚îÄ‚îÄ Load Parameter_Item_IST.csv ‚Üí ITEM_BANK
   ‚îú‚îÄ‚îÄ Initialize logging ‚Üí cat_api.log  
   ‚îú‚îÄ‚îÄ Setup endpoints & CORS
   ‚îî‚îÄ‚îÄ Start server on localhost:5000

2. üöÄ Laravel Bootstrap (bootstrap/app.php)
   ‚îú‚îÄ‚îÄ Load configuration files (config/*)
   ‚îú‚îÄ‚îÄ Register services (AppServiceProvider.php)
   ‚îú‚îÄ‚îÄ Initialize database connection
   ‚îî‚îÄ‚îÄ Setup routing (routes/web.php)

3. üåê Frontend Load (hybrid.blade.php)
   ‚îú‚îÄ‚îÄ Load cat-hybrid.js
   ‚îú‚îÄ‚îÄ Initialize Chart.js
   ‚îú‚îÄ‚îÄ Setup CSRF token
   ‚îú‚îÄ‚îÄ Check Flask API health
   ‚îî‚îÄ‚îÄ Ready for user interaction
```

### **Development:**
```bash
# Start Laravel
php artisan serve

# Start Flask API  
python cat_api.py

# Run tests
php artisan cat:test-flask-api
```

### **Production:**
```bash
# Start with PM2
pm2 start cat_api.py --name cat-api

# Nginx proxy setup (see DEPLOYMENT_GUIDE.md)
```

---

## üìä Performance Monitoring

**Log Files:**
- **`cat_api.log`** - Flask API performance logs
- **`cat_flask/storage/logs/laravel.log`** - Laravel application logs

**Monitoring Functions:**
- Memory usage tracking
- CPU load monitoring  
- Response time measurement
- API endpoint performance

---

## üîß Configuration Files

**Environment:**
- **`.env`** - Laravel environment configuration
- **`config/cat.php`** - CAT-specific settings

**Dependencies:**
- **`composer.json`** - PHP dependencies (Laravel)
- **`requirements.txt`** - Python dependencies (Flask)

**Development Scripts:**
- **`debug_flask.bat`** - Debug Flask API
- **`restart_flask_api.bat`** - Restart Flask API
- **`start_hybrid_system.bat`** - Start complete system

---

Esta documentaci√≥n proporciona una visi√≥n completa del flujo de archivos y procesos en el sistema CAT, facilitando el mantenimiento y desarrollo futuro del sistema.

---

## üõ†Ô∏è **Development Workflow untuk Developer Baru**

### **üìù Cara Menambah Fitur Baru:**

#### **1. Frontend (JavaScript)**
```javascript
// Langkah 1: Tambah function di cat-hybrid.js
async function newFeature() {
    try {
        showLoading(true);
        const data = await makeApiCall('/api/new-endpoint', requestData);
        updateUI(data);
    } catch (error) {
        handleError(error);
    } finally {
        showLoading(false);
    }
}

// Langkah 2: Tambah button/trigger di hybrid.blade.php
<button onclick="newFeature()" class="btn btn-primary">New Feature</button>

// Langkah 3: Tambah UI element untuk hasil
<div id="new-feature-result" style="display: none;">
    <!-- Result display -->
</div>
```

#### **2. Backend (Laravel Route ‚Üí Controller ‚Üí Service)**
```php
// Langkah 1: Tambah route di routes/web.php
Route::post('/api/new-endpoint', [HybridCATController::class, 'newFeature'])->name('api.new-feature');

// Langkah 2: Tambah method di HybridCATController.php
public function newFeature(Request $request): JsonResponse
{
    try {
        $request->validate([
            'required_field' => 'required|string'
        ]);
        
        $result = $this->hybridCatService->processNewFeature($request->all());
        return response()->json($result);
        
    } catch (Exception $e) {
        return response()->json(['error' => $e->getMessage()], 500);
    }
}

// Langkah 3: Tambah method di HybridCATService.php
public function processNewFeature(array $data): array
{
    // Business logic here
    return ['success' => true, 'data' => $result];
}
```

### **üîß Debugging & Testing Commands:**

```bash
# Laravel Debugging
tail -f cat_flask/storage/logs/laravel.log    # Watch logs
php artisan route:list                        # See all routes
php artisan tinker                           # Interactive shell

# Flask API Testing
curl http://localhost:5000/health            # Health check
curl -X POST http://localhost:5000/api/estimate-theta \
  -H "Content-Type: application/json" \
  -d '{"responses":[{"a":1.5,"b":0.0,"g":0.2,"answer":1}]}'

# Development Commands
php artisan serve                            # Start Laravel
python cat_api.py                           # Start Flask API
php artisan cat:test-flask-api              # Test Flask endpoints
```

---

## üêõ **Common Issues & Solutions untuk Developer**

### **üîπ Flask API Connection Issues**
```javascript
// Problem: 502 Bad Gateway atau connection refused
// Check: Is Flask API running on port 5000?
// Solution: Start Flask API dengan python cat_api.py

// Check in browser: http://localhost:5000/health
// Should return: {"status": "healthy", "version": "1.0.0"}
```

### **üîπ CSRF Token Issues** 
```javascript
// Problem: 419 CSRF token mismatch
// Solution: Always include CSRF token dalam headers
headers: {
    'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),
    'Content-Type': 'application/json'
}
```

### **üîπ Database Issues**
```bash
# Problem: Database file tidak ada
# Solution: Buat database dan run migrations
touch cat_flask/database/database.sqlite
cd cat_flask
php artisan migrate

# Problem: Permission denied pada database
# Solution: Fix permissions
chmod 664 database/database.sqlite
chmod 775 database/
```

---

## üìö **Learning Path untuk Developer Baru**

### **üéØ Sequence Belajar yang Recommended:**

#### **Week 1: Understanding the Architecture**
- ‚úÖ Study file structure dan architecture diagram
- ‚úÖ Understand Laravel MVC pattern (routes ‚Üí controllers ‚Üí services ‚Üí models)  
- ‚úÖ Understand Frontend-Backend communication (AJAX ‚Üí Laravel API)
- ‚úÖ Learn database schema dan relationships

#### **Week 2: Hands-on Development**
- ‚úÖ Setup development environment  
- ‚úÖ Run the system dan test all features
- ‚úÖ Make small modifications (change UI text, add console.log)
- ‚úÖ Add simple new API endpoint dan frontend button

#### **Week 3: Advanced Implementation**
- ‚úÖ Understand IRT calculations dan business logic
- ‚úÖ Learn Flask API integration dan fallback mechanism
- ‚úÖ Practice debugging dengan logs dan browser dev tools
- ‚úÖ Implement new feature end-to-end

### **üîó Essential Concepts:**

#### **Laravel (PHP Backend):**
- **Routing:** URLs ‚Üí Controllers
- **Controllers:** Handle HTTP requests 
- **Services:** Business logic separation
- **Models:** Database interaction dengan Eloquent ORM
- **Middleware:** Request processing pipeline

#### **Frontend (JavaScript):**
- **AJAX/Fetch:** API communication
- **DOM Manipulation:** Update UI elements
- **Event Handling:** User interactions
- **State Management:** Track application state
- **Error Handling:** User-friendly error messages

#### **Flask (Python API):**
- **REST Endpoints:** HTTP API creation
- **JSON Processing:** Request/response handling
- **Mathematical Libraries:** NumPy, SciPy untuk calculations
- **CORS:** Cross-origin request handling

---

## üöÄ **Quick Reference untuk Implementation**

### **üîπ File Modification Checklist:**

#### **Adding New Frontend Feature:**
```
‚ñ° 1. Add JavaScript function in public/js/cat-hybrid.js
‚ñ° 2. Add UI element in resources/views/cat/hybrid.blade.php  
‚ñ° 3. Add CSS styling if needed
‚ñ° 4. Test frontend functionality
```

#### **Adding New Backend Endpoint:**
```
‚ñ° 1. Add route in routes/web.php
‚ñ° 2. Add controller method in app/Http/Controllers/HybridCATController.php
‚ñ° 3. Add service method in app/Services/HybridCATService.php
‚ñ° 4. Add database operations if needed (models, migrations)
‚ñ° 5. Test API endpoint dengan curl atau Postman
```

#### **Adding New Database Table:**
```
‚ñ° 1. Create migration: php artisan make:migration create_table_name
‚ñ° 2. Define schema in migration file
‚ñ° 3. Create model: php artisan make:model ModelName
‚ñ° 4. Define relationships in model
‚ñ° 5. Run migration: php artisan migrate
```

### **üîπ Testing Workflow:**
```
1. üêç Test Flask API: curl localhost:5000/health
2. üöÄ Test Laravel: php artisan serve ‚Üí browser localhost:8000
3. üåê Test Frontend: Open /cat/hybrid ‚Üí click buttons ‚Üí check console
4. üóÑÔ∏è Test Database: php artisan tinker ‚Üí Model::all()
5. üîó Test Integration: Full CAT test flow dari start sampai finish
```

**Dokumentasi ini sekarang comprehensive untuk developer baru yang ingin memahami dan mengimplementasikan sistem CAT! üéØ**
